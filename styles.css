:root {
  --f-organic: #30D158;
  --f-filler: #FF9F0A;
  --f-synthetic: #FF375F;
  --f-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --f-bg: rgba(18, 18, 20, 0.98);
  --f-text: #ffffff;
  --f-border: rgba(255, 255, 255, 0.15);
  --f-metric-bg: rgba(255, 255, 255, 0.06);
  --f-shadow: rgba(0, 0, 0, 0.8);
  --f-badge-bg: rgba(0, 0, 0, 0.85);
  --f-badge-text: #ffffff;
  --f-badge-weight: 800;
  --f-badge-text-shadow: none;
  --f-icon-shadow: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
  --f-pill-shadow: 0 2px 8px var(--f-shadow);
  --f-divider: rgba(255,255,255,0.08);
  --f-bar-track: rgba(255,255,255,0.08);
}

body.fodder-light-theme {
  --f-organic: #1a7f37;
  --f-filler: #b25000;
  --f-synthetic: #cf222e;
  --f-bg: rgba(255, 255, 255, 0.96);
  --f-text: #1d1d1f;
  --f-border: rgba(0, 0, 0, 0.12);
  --f-metric-bg: rgba(0, 0, 0, 0.04);
  --f-shadow: rgba(0, 0, 0, 0.12);
  --f-badge-bg: rgba(255, 255, 255, 0.95);
  --f-badge-text: #111111;
  --f-badge-weight: 900;
  --f-badge-text-shadow: 0 0.5px 1px rgba(0,0,0,0.1);
  --f-icon-shadow: drop-shadow(0 0 0.5px rgba(0,0,0,0.4)) drop-shadow(0 0.5px 1px rgba(0,0,0,0.15));
  --f-pill-shadow: 0 0 0.4px rgba(0,0,0,0.32), 0 0.4px 0.8px rgba(0,0,0,0.12);
  --f-divider: rgba(0,0,0,0.08);
  --f-bar-track: rgba(0,0,0,0.06);
}

.fodder-reset { box-sizing: border-box; line-height: normal; font-family: var(--f-font); }

/* ─── DOCK ───────────────────────────────────────────────────────────────── */
.fodder-unified-dock { display: inline-flex; align-items: center; margin-right: 14px; cursor: pointer; height: 34px; vertical-align: middle; }
.fodder-icon-dock { height: 100%; width: 42px; display: flex; align-items: center; justify-content: center; }
.fodder-icon-dock img { width: 32px; height: 32px; object-fit: contain; filter: var(--f-icon-shadow); transition: filter 0.3s; }
.fodder-score-pill {
  height: 100%; display: inline-flex; align-items: center; gap: 8px;
  padding: 0 14px; background: var(--f-bg); border: 1px solid var(--f-border);
  border-radius: 8px; box-shadow: var(--f-pill-shadow); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  transition: border-color 0.18s;
}
.fodder-unified-dock.pill-pinned .fodder-score-pill { border-color: rgba(255,255,255,0.35); }
.fodder-score { font-weight: 800; font-size: 17px; color: var(--f-text); }
.fodder-label { font-weight: 700; font-size: 11px; letter-spacing: 0.5px; }
.tier-organic .fodder-label   { color: var(--f-organic); }
.tier-filler .fodder-label    { color: var(--f-filler); }
.tier-synthetic .fodder-label { color: var(--f-synthetic); }

/* Inline SLP badge */
.fodder-slp-inline {
  font-size: 9px; font-weight: 800; letter-spacing: 0.4px; padding: 2px 5px; border-radius: 4px;
  background: var(--f-metric-bg); color: var(--f-text); opacity: 0.5; transition: all 0.3s;
}
.fodder-slp-inline.slop-synthetic { background: rgba(255,55,95,0.18);   color: var(--f-synthetic); opacity: 1; }
.fodder-slp-inline.slop-filler    { background: rgba(255,159,10,0.18);  color: var(--f-filler);    opacity: 1; }
.fodder-slp-inline.slop-hybrid    { background: rgba(91,141,238,0.15);  color: #5b8dee;            opacity: 1; }
.fodder-slp-inline.slop-scripted  { background: rgba(180,127,255,0.15); color: #b47fff;            opacity: 1; }
.fodder-slp-inline.slop-organic   { background: rgba(48,209,88,0.18);   color: var(--f-organic);   opacity: 1; }

/* ─── BENTO ──────────────────────────────────────────────────────────────── */
#fodder-bento-portal {
  background: var(--f-bg); border: 1.5px solid var(--f-border); border-radius: 14px; padding: 18px;
  box-shadow: 0 15px 50px var(--f-shadow); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); transition: border-color 0.2s;
}
#fodder-bento-portal.bento-pinned { border-color: rgba(255,255,255,0.28); box-shadow: 0 20px 60px var(--f-shadow), 0 0 0 1px rgba(255,255,255,0.08); }

.fodder-watermark { position: absolute; top: 15%; right: -5%; width: 140px; height: 140px; opacity: 0.25; pointer-events: none; z-index: 0; }
.fodder-bento-header, .fodder-score-main, .fodder-metric-grid, .fodder-slop-row, .fodder-slop-bars, .fodder-drift-card, .fodder-clinical, .fodder-bento-footer, .bento-pin-row { position: relative; z-index: 1; }
.fodder-bento-header { display: flex; justify-content: space-between; margin-bottom: 12px; opacity: 0.5; font-size: 9px; font-weight: 900; color: var(--f-text); }
.fodder-score-main   { font-size: 42px; font-weight: 800; text-align: center; margin-bottom: 20px; color: var(--f-text); }

.fodder-metric-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 10px; }
.fodder-metric { background: var(--f-metric-bg); padding: 10px 4px; border-radius: 10px; text-align: center; border: 1.5px solid transparent; transition: all 0.2s; }
.fodder-metric .label { display: block; font-size: 8px; opacity: 0.5; font-weight: 800; margin-bottom: 4px; color: var(--f-text); }
.fodder-metric .val   { display: block; font-size: 13px; font-weight: 900; color: var(--f-text); }
.glow-positive { border-color: var(--f-organic); box-shadow: 0 0 10px rgba(48,209,88,0.2); }
.glow-positive .val { color: var(--f-organic); }
.glow-severe   { border-color: var(--f-synthetic); box-shadow: 0 0 10px rgba(255,55,95,0.25); }
.glow-severe .val   { color: var(--f-synthetic); }
.glow-moderate { border-color: var(--f-filler); box-shadow: 0 0 10px rgba(255,159,10,0.2); }
.glow-moderate .val { color: var(--f-filler); }

/* ─── SLOP SECTION ───────────────────────────────────────────────────────── */
.fodder-slop-row { display: flex; align-items: center; gap: 7px; flex-wrap: wrap; margin-top: 14px; padding-top: 12px; border-top: 1px solid var(--f-divider); }
.fodder-slop-label   { font-size: 8px; font-weight: 900; opacity: 0.4; color: var(--f-text); flex-shrink: 0; }
.fodder-slop-loading { font-size: 9px; opacity: 0.4; color: var(--f-text); font-style: italic; }
.fodder-slop-verdict { font-size: 9px; font-weight: 900; letter-spacing: 0.6px; padding: 2px 7px; border-radius: 5px; }
.slop-synthetic { background: rgba(255,55,95,0.18);   color: var(--f-synthetic); }
.slop-filler    { background: rgba(255,159,10,0.18);  color: var(--f-filler); }
.slop-hybrid    { background: rgba(91,141,238,0.15);  color: #5b8dee; }
.slop-scripted  { background: rgba(180,127,255,0.15); color: #b47fff; }
.slop-organic   { background: rgba(48,209,88,0.18);   color: var(--f-organic); }
.slop-unknown   { background: var(--f-metric-bg); color: var(--f-text); opacity: 0.5; }
.fodder-auto-tag   { font-size: 8px; font-weight: 900; letter-spacing: 0.4px; padding: 2px 5px; border-radius: 4px; margin-left: auto; background: rgba(255,159,10,0.15); color: var(--f-filler); }
.fodder-manual-tag { background: rgba(48,209,88,0.12); color: var(--f-organic); }

.fodder-slop-error { font-size: 9.5px; color: var(--f-filler); opacity: 0.7; margin-top: 6px; font-style: italic; line-height: 1.4; }
.fodder-slop-bars { margin-top: 8px; display: flex; flex-direction: column; gap: 5px; }
.fodder-bar-row   { display: flex; align-items: center; gap: 6px; }
.bar-label        { font-size: 7.5px; font-weight: 900; opacity: 0.4; color: var(--f-text); width: 40px; flex-shrink: 0; }
.bar-val          { font-size: 9px; font-weight: 800; color: var(--f-text); opacity: 0.65; width: 32px; text-align: right; flex-shrink: 0; }
.fodder-bar-track { flex: 1; height: 5px; background: var(--f-bar-track); border-radius: 3px; overflow: hidden; }
.fodder-bar-fill  { height: 100%; border-radius: 3px; min-width: 2px; transition: width 0.65s cubic-bezier(0.4,0,0.2,1); }
.slop-fill        { background: linear-gradient(90deg, var(--f-filler), var(--f-synthetic)); }
.human-fill       { background: var(--f-organic); }

/* ─── AUDIENCE DRIFT CARD ────────────────────────────────────────────────── */
.fodder-drift-card { margin-top: 12px; padding: 11px 12px; border-radius: 10px; border: 1.5px solid transparent; transition: border-color 0.2s, box-shadow 0.2s; }
.drift-viral       { background: rgba(48,209,88,0.10);  border-color: rgba(48,209,88,0.35);  box-shadow: 0 0 12px rgba(48,209,88,0.15); }
.drift-building    { background: rgba(48,209,88,0.06);  border-color: rgba(48,209,88,0.20); }
.drift-stable      { background: var(--f-metric-bg);    border-color: var(--f-border); }
.drift-souring     { background: rgba(255,159,10,0.08); border-color: rgba(255,159,10,0.28); }
.drift-spoiling    { background: rgba(255,55,95,0.10);  border-color: rgba(255,55,95,0.35);  box-shadow: 0 0 12px rgba(255,55,95,0.15); }
.drift-astroturfed { background: rgba(255,55,95,0.12);  border-color: rgba(255,55,95,0.45);  box-shadow: 0 0 14px rgba(255,55,95,0.2); }
.drift-empty       { background: var(--f-metric-bg);    border-color: var(--f-border); opacity: 0.55; }
.drift-header { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 6px; margin-bottom: 6px; }
.drift-label-text { font-size: 8px; font-weight: 900; letter-spacing: 1.2px; opacity: 0.4; color: var(--f-text); }
.drift-no-key     { font-size: 9px; color: var(--f-text); opacity: 0.4; font-style: italic; }
.drift-state-row  { display: flex; align-items: center; gap: 5px; }
.drift-arrow      { font-size: 11px; line-height: 1; }
.drift-state      { font-size: 10px; font-weight: 900; letter-spacing: 0.6px; }
.drift-score      { font-size: 10px; font-weight: 800; opacity: 0.75; color: var(--f-text); }
.drift-viral    .drift-arrow, .drift-viral    .drift-state    { color: var(--f-organic); }
.drift-building .drift-arrow, .drift-building .drift-state    { color: var(--f-organic); opacity: 0.75; }
.drift-stable   .drift-arrow, .drift-stable   .drift-state    { color: var(--f-text); opacity: 0.45; }
.drift-souring  .drift-arrow, .drift-souring  .drift-state    { color: var(--f-filler); }
.drift-spoiling .drift-arrow, .drift-spoiling .drift-state    { color: var(--f-synthetic); }
.drift-astroturfed .drift-arrow, .drift-astroturfed .drift-state { color: var(--f-synthetic); }
.drift-bot-warn { display: flex; align-items: center; gap: 5px; font-size: 9.5px; font-weight: 700; color: var(--f-synthetic); background: rgba(255,55,95,0.08); border-radius: 5px; padding: 4px 7px; margin-bottom: 7px; }
.drift-bot-icon { font-size: 10px; }
.drift-insight  { font-size: 11px; line-height: 1.5; color: var(--f-text); opacity: 0.8; margin: 0; font-style: italic; }

/* ─── VERDICT (formerly Clinical Insight) ────────────────────────────────── */
.fodder-clinical { margin-top: 12px; padding: 10px 12px; background: var(--f-metric-bg); border-radius: 10px; border: 1px solid var(--f-border); }
.fodder-clinical-dim { opacity: 0.5; }
.fodder-clinical-label { display: flex; align-items: center; gap: 5px; font-size: 7.5px; font-weight: 900; letter-spacing: 0.5px; opacity: 0.5; color: var(--f-text); margin-bottom: 7px; }
.fodder-llm-badge { font-size: 7px; font-weight: 900; padding: 1px 5px; border-radius: 4px; letter-spacing: 0.3px; opacity: 1; background: linear-gradient(135deg, #1a56db, #00a6cf); color: #fff; }
.fodder-clinical-text { font-size: 11px; line-height: 1.5; color: var(--f-text); opacity: 0.85; margin: 0; font-style: italic; }

/* authenticity_signal colors — green = high quality/genuine, amber = ambiguous, red = hollow/AI */
.llm-signal-high   { color: var(--f-organic);   opacity: 1; }
.llm-signal-medium { color: var(--f-filler);     opacity: 1; }
.llm-signal-low    { color: var(--f-synthetic);  opacity: 1; }

/* ─── PIN ROW ─────────────────────────────────────────────────────────────── */
.bento-pin-row { text-align: center; margin-top: 12px; padding-top: 10px; border-top: 1px solid var(--f-divider); }
.bento-pin-hint { font-size: 9px; font-weight: 700; letter-spacing: 0.4px; color: var(--f-text); opacity: 0.2; text-transform: uppercase; }

/* ─── BENTO FOOTER ───────────────────────────────────────────────────────── */
.fodder-bento-footer { font-size: 11px; opacity: 0.6; font-style: italic; text-align: center; margin-top: 15px; color: var(--f-text); }

/* ─── MINI BADGE ─────────────────────────────────────────────────────────── */
.fodder-mini-badge { position: absolute; top: 6px; left: 6px; z-index: 200; padding: 2px 6px; background: var(--f-badge-bg); border: 1.5px solid; border-radius: 5px; font-size: 10px; font-weight: var(--f-badge-weight); color: var(--f-badge-text); text-shadow: var(--f-badge-text-shadow); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
.fodder-mini-badge.tier-organic   { border-color: var(--f-organic); }
.fodder-mini-badge.tier-filler    { border-color: var(--f-filler); }
.fodder-mini-badge.tier-synthetic { border-color: var(--f-synthetic); }